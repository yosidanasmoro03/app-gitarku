/*
=====================================================
STYLES.CSS - Final Cleaned & Responsive Version
=====================================================
*/

/* --- 0. Global Reset & Streamlit Container Compactness --- */

/* Mengurangi Padding Halaman Utama secara drastis untuk Compactness */
.block-container {
    padding-top: 1rem !important;
    padding-bottom: 1rem !important;
    padding-left: 2rem !important;
    padding-right: 2rem !important;
    max-width: 100%;
}

/* Streamlit container wajib bisa scroll */
html, body, [data-testid="stAppViewContainer"], section.main {
    overflow-y: auto !important;
    height: auto !important;
    min-height: 100vh !important;
    max-height: none !important;
}

/* Mengecilkan Judul H1 */
h1 {
    font-size: 1.8rem !important;
    margin-bottom: 0.5rem !important;
    margin-top: 0 !important;
    padding-top: 0 !important;
}

/* Warna teks default di atas overlay gelap (terapkan ke semua elemen) */
[data-testid="stAppViewContainer"] *, 
[data-testid="stAppViewContainer"] p, 
[data-testid="stAppViewContainer"] h1, 
[data-testid="stAppViewContainer"] h2, 
[data-testid="stAppViewContainer"] h3, 
[data-testid="stAppViewContainer"] div {
    color: #ffffff !important;
}

/* Perbaikan untuk st.info, st.success, dll. (Agar teks di dalamnya tidak putih) */
.stAlert > div {
    color: #000000 !important; 
}

/* --- 1. NAVBAR --- */

/* Aturan kontainer utama navbar */
.navbar {
    display: flex;
    justify-content: stretch;
    align-items: center;
    gap: 12px; /* Diperkecil agar muat */
    background: #1e1e1e;
    padding: 10px 20px; /* Diperkecil */
    border-radius: 0 0 10px 10px;
    position: sticky;
    top: 0;
    z-index: 999;
    margin-bottom: 15px; /* Jarak bawah navbar */
}

.navbar::after {
    content: "";
    position: absolute;
    bottom: -3px;
    left: 0;
    width: 100%;
    height: 3px;
    background-color: #6f42c1;
    border-radius: 0 0 10px 10px;
}

/* Target tombol Streamlit di dalam navbar */
.navbar .stButton > button {
    /* Menerapkan styling .nav-btn ke tombol Streamlit */
    background: linear-gradient(135deg, #6A5ACD, #7B68EE) !important;
    border: none !important;
    color: #ffffff !important;
    font-weight: 700 !important;
    font-size: 1rem !important; /* Dikecilkan */
    cursor: pointer !important;
    padding: 8px 15px !important; /* Dikecilkan */
    border-radius: 10px !important;
    min-height: auto !important; /* Penting untuk mengecilkan tinggi tombol */
    width: 100% !important;
}

/* Hover dan Active State untuk tombol Streamlit */
.navbar .stButton > button:hover {
    transform: translateY(-3px) !important;
}

/* Streamlit tidak memiliki class 'active'. Kita harus mengandalkan styling CSS bawaan Streamlit
   yang memberi border ke tombol yang aktif, atau jika Anda tetap ingin menggunakan class,
   Anda harus mengimplementasikannya di Python (yang sulit).
   Untuk saat ini, kita akan mengandalkan styling dasar: */
/* Untuk tombol yang sedang dipilih, kita override stylenya */
/* Streamlit tidak menyediakan cara mudah untuk menandai tombol aktif di Python.
   Namun, Anda bisa menggunakan `st.markdown` untuk meniru tampilan:
   .nav-btn.active { ... }
   Namun, karena kode Python menggunakan st.button, kita tinggalkan ini.
   Solusi terbaik adalah menggunakan HTML custom seperti sebelumnya. */


/* --- 2. BACKGROUND & OVERLAY --- */
[data-testid="stAppViewContainer"] {
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed !important;
    overflow-y: auto !important;
}

[data-testid="stAppViewContainer"]::before {
    content: "";
    position: fixed; 
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.55);
    pointer-events: none;
    z-index: 0;
}

section.main > div {
    position: relative;
    z-index: 1;
}

/* --- 3. HALAMAN HOME (OVERRIDE CSS BAWAAN KARTU) --- */
.title {
    margin-top: 15px; /* Dikecilkan */
    text-align: center;
    font-size: clamp(2em, 5vw, 3em); /* Dikecilkan */
    font-weight: 900;
    margin-bottom: 0.5em;
    color: #EDEAFF;
    text-shadow: 3px 3px 8px rgba(0,0,0,0.6);
}

.card-container {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    flex-wrap: wrap;
    gap: 3vw;
    margin-top: 3vh; /* Dikecilkan */
    padding: 1vh 1vw; /* Dikecilkan */
}

.card {
    width: min(90vw, 300px); /* Dikecilkan agar lebih compact */
    border-radius: 15px; /* Dikecilkan */
    overflow: hidden;
    text-align: justify;
    margin-bottom: 15px; /* Dikecilkan */
}

.card:hover {
    transform: translateY(-5px); /* Dikecilkan */
}

.card img {
    width: 100%;
    height: auto;
    max-height: 150px; /* Dikecilkan */
    object-fit: cover;
}

.card-title {
    font-size: clamp(1.1em, 2vw, 1.5em); /* Dikecilkan */
    font-weight: 800;
    margin: 10px 0 5px 0;
    color: #2E2E2E !important; /* Penting: Teks di dalam kartu harus gelap */
    text-align: center;
}

.card-desc {
    font-size: 16px; /* Dikecilkan */
    color: #2c2c2c !important; /* Penting: Teks di dalam kartu harus gelap */
    margin: 5px 0 10px 0;
    padding: 5px;
    text-align: center;
    line-height: 1.4em;
}

/* --- 4. TOMBOL UTAMA (HOME/GLOBAL) --- */
/* Tombol yang TIDAK di dalam navbar */
.stButton > button {
    width: 100%; /* Dibuat 100% untuk konsistensi */
    min-height: 50px; /* Dikecilkan */
    font-size: clamp(1em, 2vw, 1.2em); 
    line-height: 1.4em;
    border-radius: 10px; 
    background: linear-gradient(135deg, #6A5ACD, #7B68EE);
    font-weight: 700;
    border: none;
    white-space: normal;
    padding: 10px 15px;
}

.stButton > button:hover {
    transform: scale(1.02); /* Dikecilkan */
}

/* --- 5. KUIS & REALTIME (Compactness) --- */

/* Memastikan Video WebRTC tidak terlalu tinggi pada layar kecil/lebar */
video {
    max-height: 60vh !important; 
    width: 100% !important;
    object-fit: contain !important;
}

/* Membatasi tinggi gambar diagram agar proporsional di mode kuis */
[data-testid="stImage"] img {
    max-height: 200px !important; /* Lebih dikecilkan */
    object-fit: contain !important;
}

/* --- 6. SCROLLBAR KUSTOM --- */
::-webkit-scrollbar {
    width: 8px; /* Dikecilkan */
}

::-webkit-scrollbar-track {
    background: rgba(30, 30, 30, 0.8);
    border-radius: 10px;
}

::-webkit-scrollbar-thumb {
    background: #6f42c1; /* Warna scrollbar disesuaikan dengan tema */
    border-radius: 10px;
    border: 2px solid #1e1e1e;
}
